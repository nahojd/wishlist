@use "sass:map";
@use "@picocss/pico/scss/pico" with (
    $theme-color: "lime"
);
@use "@picocss/pico/scss/colors/index" as *;
@import "@picocss/pico/scss/_settings.scss";

html[data-theme=light] img.logo {
    filter: invert(1) hue-rotate(78deg) saturate(4);
}

#approot {
    margin: 0 auto;
    max-width: map.get(map.get($breakpoints, "xl"), "viewport");

    > main {
        display: grid;

        grid-template-areas:
            "head"
            "nav"
            "main"
            "foot";
        grid-template-rows: auto;

        @media screen and (min-width: map.get(map.get($breakpoints, "lg"), "breakpoint")) {
            grid-template-areas:
                "head head"
                "nav  main"
                "foot foot";
            grid-template-columns: 1fr 2fr;
            column-gap: 1rem;
        }

        > header {
            grid-area: head;

            padding-bottom: 1rem;
            margin-bottom: 1rem;
            border-bottom: 1px solid $green-800;

            > nav {
                @media screen and (max-width: map.get(map.get($breakpoints, "md"), "breakpoint")) {
                    display: grid;
                    grid-template-areas:
                        "logo"
                        "menu";
                    justify-content: normal;

                    > a {
                        grid-area: logo;
                    }

                    > ul {
                        grid-area: menu;
                        display: flex;
                        justify-content: end;
                    }
                }
            }
        }

        > aside {
            grid-area: nav;
        }

        > section {
            grid-area: main;
        }

        > footer {
            grid-area: foot;

            padding-top: 1rem;
            margin-top: 1rem;
            border-top: 1px solid $green-800;
        }
    }

    fieldset {
        input {
            &:user-invalid {
                border-color: $red-450;
            }
        }
    }
}

ul.plain {
    padding-left: 0;
    > li {
        list-style: none;
    }
}

.alert {
    margin-top: 1rem;

    h1 {
        font-size: 110%;
    }

    &.danger {
        background-color: $red-450;
        color: white;
    }
    &.warning {
        background-color: $amber-250;
        color: white;
    }
    &.info {
        background-color: $cyan-400;
        color: white;
    }
    &.success {
        background-color: $green-350;
        color: white;
    }
}

article {
    > header:has(> svg:first-child) {
        display: grid;
        grid-template-columns: 1.75rem 1fr;
        align-items: center;
    }
}

// minska lite på den vertikala paddingen i buttons och input-fält (75% av tidigare)
button, input:not([type="checkbox"], [type="radio"], [type="range"], [type="file"]), select, textarea, [role=button]
{
    padding: calc(var(--pico-form-element-spacing-vertical) * .75) var(--pico-form-element-spacing-horizontal);
}

button.link {
    padding: 0;
    border: none;
    background: none;
    color: var(--pico-primary);
}

//Knappar som bara är ikoner
button.icon {
    padding: 0;
    border: none;
    background: none;
    color: var(--pico-primary);

    &:focus, &:focus-visible {
        box-shadow: none;
    }

    &[aria-busy] {
        position: relative;

        &::before {
            position: absolute;
            top: 3px;
            left: 4px;
            color: var(--pico-primary);
            filter: none !important;
        }

        > svg {
            visibility: hidden;
        }
    }
}

//Ikoner i knappar
button svg, [role=button] svg {
    height: 24px;
    margin-top: -6px;
}

small > button, small > *[role=button] {
    font-size: 1em;
    padding: calc(var(--pico-form-element-spacing-vertical) / 3) calc(var(--pico-form-element-spacing-horizontal) * .67);

    svg {
        height: 16px;
        margin-top: -4px;
    }
}

svg {
    &.primary {
        color: var(--pico-primary);
    }
    &.secondary {
        color: var(--pico-secondary);
    }
}

// margin utilities
.ml-1 { margin-left: .5rem; }
.mt-1 { margin-top: .5rem; }
.mr-1 { margin-right: .5rem; }
.mb-1 { margin-bottom: .5rem; }
.m-1 { margin: .5rem };
.ml-2 { margin-left: 1rem; }
.mt-2 { margin-top: 1rem; }
.mr-2 { margin-right: 1rem; }
.mb-2 { margin-bottom: 1rem; }
.m-2 { margin: 1rem };
